<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Obtain data and feature geometry for American Community Survey Migration
Flows — get_flows • tidycensus</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Obtain data and feature geometry for American Community Survey Migration
Flows — get_flows"><meta property="og:description" content="Obtain data and feature geometry for American Community Survey Migration
Flows"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidycensus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/basic-usage.html">Basic usage of tidycensus</a>
    </li>
    <li>
      <a href="../articles/spatial-data.html">Spatial data in tidycensus</a>
    </li>
    <li>
      <a href="../articles/margins-of-error.html">Margins of error in the ACS</a>
    </li>
    <li>
      <a href="../articles/other-datasets.html">Other Census Bureau datasets</a>
    </li>
    <li>
      <a href="../articles/pums-data.html">Working with Census microdata</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/walkerke/tidycensus" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtain data and feature geometry for American Community Survey Migration
Flows</h1>
    <small class="dont-index">Source: <a href="https://github.com/walkerke/tidycensus/blob/HEAD/R/flows.R" class="external-link"><code>R/flows.R</code></a></small>
    <div class="hidden name"><code>get_flows.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Obtain data and feature geometry for American Community Survey Migration
Flows</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_flows</span><span class="op">(</span>
  <span class="va">geography</span>,
  variables <span class="op">=</span> <span class="cn">NULL</span>,
  breakdown <span class="op">=</span> <span class="cn">NULL</span>,
  breakdown_labels <span class="op">=</span> <span class="cn">FALSE</span>,
  year <span class="op">=</span> <span class="fl">2018</span>,
  output <span class="op">=</span> <span class="st">"tidy"</span>,
  state <span class="op">=</span> <span class="cn">NULL</span>,
  county <span class="op">=</span> <span class="cn">NULL</span>,
  msa <span class="op">=</span> <span class="cn">NULL</span>,
  geometry <span class="op">=</span> <span class="cn">FALSE</span>,
  key <span class="op">=</span> <span class="cn">NULL</span>,
  moe_level <span class="op">=</span> <span class="fl">90</span>,
  show_call <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>geography</dt>
<dd><p>The geography of your requested data. Possible values are
<code>"county"</code>, <code>"county subdivision"</code>, and <code>"metropolitan statistical area"</code>.
MSA data is only available beginning with the 2009-2013 5-year ACS.</p></dd>
<dt>variables</dt>
<dd><p>Character string or vector of character strings of variable
names. By default, <code>get_flows()</code> returns the GEOID and names of the
geographies as well as the number of people who moved in, out, and net
movers of each geography (<code>"MOVEDIN"</code>, <code>"MOVEDOUT"</code>, <code>"MOVEDNET"</code>). If additional
variables are specified, they are pulled in addition to the default
variables. The names of additional variables can be found in the Census
Migration Flows API
documentation at <a href="https://api.census.gov/data/2018/acs/flows/variables.html" class="external-link">https://api.census.gov/data/2018/acs/flows/variables.html</a>.</p></dd>
<dt>breakdown</dt>
<dd><p>A character vector of the population breakdown
characteristics to be crossed with migration flows data. For datasets
between 2006-2010 and 2011-2015, selected demographic characteristics such
as age, race, employment status, etc. are available. Possible values are
"AGE", "SEX", "RACE", "HSGP", "REL", "HHT", "TEN", "ENG",
"POB", "YEARS", "ESR", "OCC", "WKS", "SCHL", "AHINC",
"APINC", and "HISP_ORIGIN". For more information and to see which
characteristics are available in each year, visit the Census Migration
Flows
documentation at <a href="https://www.census.gov/data/developers/data-sets/acs-migration-flows.html" class="external-link">https://www.census.gov/data/developers/data-sets/acs-migration-flows.html</a>.
 Note: not all characteristics are available in all years.</p></dd>
<dt>breakdown_labels</dt>
<dd><p>Whether or not to add columns with labels for the
breakdown characteristic codes. Defaults to <code>FALSE</code>.</p></dd>
<dt>year</dt>
<dd><p>The year, or endyear, of the ACS sample. The Migration Flows API
is available for 5-year ACS samples from 2010 to 2018. Defaults to 2018.</p></dd>
<dt>output</dt>
<dd><p>One of "tidy" (the default) in which each row represents an
enumeration unit-variable combination, or "wide" in which each row
represents an enumeration unit and the variables are in the columns.</p></dd>
<dt>state</dt>
<dd><p>An optional vector of states for which you are requesting data.
State names, postal codes, and FIPS codes are accepted. When requesting
county subdivision data, you must specify at least one state.</p></dd>
<dt>county</dt>
<dd><p>The county for which you are requesting data. County names and
FIPS codes are accepted. Must be combined with a value supplied to `state`.</p></dd>
<dt>msa</dt>
<dd><p>The metropolitan statistical area for which you are requesting
data. Specify a single value or a vector of values to get data for more
than one MSA. Numeric or character MSA GEOIDs are accepted. When specifying
MSAs, geography must be set to <code>"metropolitan statistical area"</code> and
<code>state</code> and <code>county</code> must be <code>NULL</code>.</p></dd>
<dt>geometry</dt>
<dd><p>if FALSE (the default), return a tibble of ACS Migration
Flows data. If TRUE, return an sf object with the centroids of both origin
and destination as <code>sfc_POINT</code> columns. The origin point feature is
returned in a column named <code>centroid1</code> and is the active geometry column in
the sf object. The destination point feature is returned in the <code>centroid2</code>
column.</p></dd>
<dt>key</dt>
<dd><p>Your Census API key. Obtain one at
<a href="https://api.census.gov/data/key_signup.html" class="external-link">https://api.census.gov/data/key_signup.html</a></p></dd>
<dt>moe_level</dt>
<dd><p>The confidence level of the returned margin of error.  One
of 90 (the default), 95, or 99.</p></dd>
<dt>show_call</dt>
<dd><p>if TRUE, display call made to Census API. This can be very
useful in debugging and determining if error messages returned are due to
tidycensus or the Census API. Copy to the API call into a browser and see
what is returned by the API directly. Defaults to FALSE.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A tibble or sf tibble of ACS Migration Flows data</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="fu">get_flows</span><span class="op">(</span></span>
<span class="r-in">  geography <span class="op">=</span> <span class="st">"county"</span>,</span>
<span class="r-in">  state <span class="op">=</span> <span class="st">"VT"</span>,</span>
<span class="r-in">  county <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Washington"</span>, <span class="st">"Chittenden"</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">get_flows</span><span class="op">(</span></span>
<span class="r-in">  geography <span class="op">=</span> <span class="st">"county subdivision"</span>,</span>
<span class="r-in">  breakdown <span class="op">=</span> <span class="st">"RACE"</span>,</span>
<span class="r-in">  breakdown_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">  state <span class="op">=</span> <span class="st">"NY"</span>,</span>
<span class="r-in">  county <span class="op">=</span> <span class="st">"Westchester"</span>,</span>
<span class="r-in">  output <span class="op">=</span> <span class="st">"wide"</span>,</span>
<span class="r-in">  year <span class="op">=</span> <span class="fl">2015</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">get_flows</span><span class="op">(</span></span>
<span class="r-in">   geography <span class="op">=</span> <span class="st">"metropolitan statistical area"</span>,</span>
<span class="r-in">   variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POP1YR"</span>, <span class="st">"POP1YRAGO"</span><span class="op">)</span>,</span>
<span class="r-in">   geometry <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">   output <span class="op">=</span> <span class="st">"wide"</span>,</span>
<span class="r-in">   show_call <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kyle Walker, Matt Herman.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

